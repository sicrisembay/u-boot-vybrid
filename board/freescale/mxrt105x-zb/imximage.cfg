/*
 * Copyright (C) 2016 Freescale Semiconductor, Inc.
 *
 * SPDX-License-Identifier:	GPL-2.0+
 *
 * Refer docs/README.imxmage for more details about how-to configure
 * and create imximage boot image
 *
 * The syntax is taken as close as possible with the kwbimage
 */

#define __ASSEMBLY__
#include <config.h>

/* image version */

IMAGE_VERSION 2

/*
 * Boot Device : one of
 * spi/sd/nand/onenand, qspi/nor
 */

BOOT_FROM	sd

CSF CONFIG_CSF_SIZE

/*
 * Device Configuration Data (DCD)
 *
 * Each entry must have the format:
 * Addr-type           Address        Value
 *
 * where:
 *	Addr-type register length (1,2 or 4 bytes)
 *	Address	  absolute address of the register
 *	value	  value to be stored in the register
 */

/*
 * DCDC Init
 * Vdd_soc = 1.275V for 600MHz AHB clock
 */
DATA 4 0x4008000C 0x00000113
CHECK_BITS_SET 4 0x40080000 0x80000000

/*
 * Clock Init
 */
DATA 4  0x400FC068 0xffffffff
DATA 4  0x400FC06C 0xffffffff
DATA 4  0x400FC070 0xffffffff
DATA 4  0x400FC074 0xffffffff
DATA 4  0x400FC078 0xffffffff
DATA 4  0x400FC07C 0xffffffff
DATA 4  0x400FC080 0xffffffff

/*
 * Clock Init: CCM_ANALOG
 */
/* PLL_ARM */
DATA 4  0x400D8000 0x00012064
CHECK_BITS_SET 4 0x400D8000 0x80000000
DATA 4  0x400D8000 0x00002064
/* PLL_SYS SSC_24M_60K*/
DATA 4  0x400D8040 0x04B08006
DATA 4  0x400D8050 0x00000106
DATA 4  0x400D8060 0x000004B0
DATA 4  0x400D8030 0x00012001
CHECK_BITS_SET 4 0x400D8030 0x80000000
DATA 4  0x400D8030 0x00002001
DATA 4  0x400D8100 0x001D0000
/*
 * Clock Init: CCM
 */
/* CBCDR (Perpiph_Clock_podf Div1; Semc_podf Div2; Ahb_podf Div1; Ipg_podf Div4) */
DATA 4  0x400FC014 0x00098340
CHECK_BITS_CLR 4 0x400FC048 0x0001002B

/*
 * SDRAM Init
 */
/* IOMUX */
DATA 4 0x401F8014 0x00000000
DATA 4 0x401F8018 0x00000000
DATA 4 0x401F801C 0x00000000
DATA 4 0x401F8020 0x00000000
DATA 4 0x401F8024 0x00000000
DATA 4 0x401F8028 0x00000000
DATA 4 0x401F802C 0x00000000
DATA 4 0x401F8030 0x00000000
DATA 4 0x401F8034 0x00000000
DATA 4 0x401F8038 0x00000000
DATA 4 0x401F803C 0x00000000
DATA 4 0x401F8040 0x00000000
DATA 4 0x401F8044 0x00000000
DATA 4 0x401F8048 0x00000000
DATA 4 0x401F804C 0x00000000
DATA 4 0x401F8050 0x00000000
DATA 4 0x401F8054 0x00000000
DATA 4 0x401F8058 0x00000000
DATA 4 0x401F805C 0x00000000
DATA 4 0x401F8060 0x00000000
DATA 4 0x401F8064 0x00000000
DATA 4 0x401F8068 0x00000000
DATA 4 0x401F806C 0x00000000
DATA 4 0x401F8070 0x00000000
DATA 4 0x401F8074 0x00000000
DATA 4 0x401F8078 0x00000000
DATA 4 0x401F807C 0x00000000
DATA 4 0x401F8080 0x00000000
DATA 4 0x401F8084 0x00000000
DATA 4 0x401F8088 0x00000000
DATA 4 0x401F808C 0x00000000
DATA 4 0x401F8090 0x00000000
DATA 4 0x401F8094 0x00000000
DATA 4 0x401F8098 0x00000000
DATA 4 0x401F809C 0x00000000
DATA 4 0x401F80A0 0x00000000
DATA 4 0x401F80A4 0x00000000
DATA 4 0x401F80A8 0x00000000
DATA 4 0x401F80AC 0x00000000
DATA 4 0x401F80B0 0x00000010
DATA 4 0x401F80B4 0x00000000
DATA 4 0x401F80B8 0x00000000
/* PAD Setting */
DATA 4 0x401F8204 0x000110F9
DATA 4 0x401F8208 0x000110F9
DATA 4 0x401F820C 0x000110F9
DATA 4 0x401F8210 0x000110F9
DATA 4 0x401F8214 0x000110F9
DATA 4 0x401F8218 0x000110F9
DATA 4 0x401F821C 0x000110F9
DATA 4 0x401F8220 0x000110F9
DATA 4 0x401F8224 0x000110F9
DATA 4 0x401F8228 0x000110F9
DATA 4 0x401F822C 0x000110F9
DATA 4 0x401F8230 0x000110F9
DATA 4 0x401F8234 0x000110F9
DATA 4 0x401F8238 0x000110F9
DATA 4 0x401F823C 0x000110F9
DATA 4 0x401F8240 0x000110F9
DATA 4 0x401F8244 0x000110F9
DATA 4 0x401F8248 0x000110F9
DATA 4 0x401F824C 0x000110F9
DATA 4 0x401F8250 0x000110F9
DATA 4 0x401F8254 0x000110F9
DATA 4 0x401F8258 0x000110F9
DATA 4 0x401F825C 0x000110F9
DATA 4 0x401F8260 0x000110F9
DATA 4 0x401F8264 0x000110F9
DATA 4 0x401F8268 0x000110F9
DATA 4 0x401F826C 0x000110F9
DATA 4 0x401F8270 0x000110F9
DATA 4 0x401F8274 0x000110F9
DATA 4 0x401F8278 0x000110F9
DATA 4 0x401F827C 0x000110F9
DATA 4 0x401F8280 0x000110F9
DATA 4 0x401F8284 0x000110F9
DATA 4 0x401F8288 0x000110F9
DATA 4 0x401F828C 0x000110F9
DATA 4 0x401F8290 0x000110F9
DATA 4 0x401F8294 0x000110F9
DATA 4 0x401F8298 0x000110F9
DATA 4 0x401F829C 0x000110F9
DATA 4 0x401F82A0 0x000110F9
DATA 4 0x401F82A4 0x0001F0F9
DATA 4 0x401F82A8 0x000110F9
/* SEMC */
DATA 4 0x402F0000 0x10000004
DATA 4 0x402F0008 0x00057EE8
DATA 4 0x402F000C 0x00057EEC
DATA 4 0x402F0010 0x80000019
DATA 4 0x402F0014 0x8200001A
DATA 4 0x402F0018 0x8400001A
DATA 4 0x402F001C 0x8600001A
DATA 4 0x402F0020 0x9e00001F
DATA 4 0x402F0024 0xA0000018
DATA 4 0x402F0028 0xA8000018
DATA 4 0x402F002C 0xA9000018
DATA 4 0x402F0030 0x0000001F
DATA 4 0x402F0004 0x00000020
/* SDRAM Config */
DATA 4 0x402F0040 0x00000F31
DATA 4 0x402F0044 0x00652922
DATA 4 0x402F0048 0x00010920
DATA 4 0x402F004C 0x50210A08
DATA 4 0x402F0094 0x00000002
DATA 4 0x402F0098 0x00000000
DATA 4 0x402F0090 0x80000000
DATA 4 0x402F009C 0xA55A000F
CHECK_BITS_SET 4 0x402F003C 0x1
DATA 4 0x402F0090 0x80000000
DATA 4 0x402F009C 0xA55A000C
CHECK_BITS_SET 4 0x402F003C 0x1
DATA 4 0x402F0090 0x80000000
DATA 4 0x402F009C 0xA55A000C
CHECK_BITS_SET 4 0x402F003C 0x1
DATA 4 0x402F00A0 0x00000033
DATA 4 0x402F0090 0x80000000
DATA 4 0x402F009C 0xA55A000A
CHECK_BITS_SET 4 0x402F003C 0x1  
DATA 4 0x402F004C 0x50210A09


